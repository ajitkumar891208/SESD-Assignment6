<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Food Delivery Website</title>
  <style>
    :root{--bg:#f9fafb;--card:#fff;--accent:#16a34a;--muted:#6b7280}
    body{font-family:Inter,ui-sans-serif,system-ui,Segoe UI,Roboto,"Helvetica Neue",Arial;background:var(--bg);margin:0;padding:32px;color:#111}
    .container{max-width:980px;margin:0 auto}
    .header{display:flex;align-items:center;gap:16px;margin-bottom:20px}
    .card{background:var(--card);border-radius:12px;padding:18px;box-shadow:0 6px 18px rgba(16,24,40,0.06)}
    h1{margin:0;font-size:22px}
    .menu-list{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:16px;margin-top:16px}
    .food-item{border:1px solid #e6e9ef;border-radius:10px;padding:12px;display:flex;flex-direction:column;gap:8px}
    .food-item h3{margin:0;font-size:16px}
    .food-item p{margin:0;font-size:13px;color:var(--muted)}
    .controls{display:flex;gap:8px;margin-top:auto}
    button{padding:8px 12px;border-radius:8px;border:0;background:var(--accent);color:white;cursor:pointer;font-size:14px}
    .cart{margin-top:20px}
    table{width:100%;border-collapse:collapse;margin-top:10px}
    th,td{border:1px solid #e6e9ef;padding:6px;text-align:left;font-size:13px}
    th{background:#f3f4f6}
    .muted{color:var(--muted)}
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <div class="card" style="padding:14px;display:flex;align-items:center;gap:12px">
        <svg width="28" height="28" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 6h16M4 12h16M4 18h16" stroke="#16a34a" stroke-width="2" stroke-linecap="round"/></svg>
        <div>
          <h1>Food Delivery Website</h1>
          <div class="muted">Factory Method demo with menu and cart</div>
        </div>
      </div>
    </div>

    <div class="card">
      <h2 class="small">Menu</h2>
      <div id="menu" class="menu-list"></div>

      <div class="cart">
        <h2 class="small">Cart</h2>
        <div id="cart"></div>
      </div>
    </div>
  </div>

  <script>
    // Food Item Base Class
    class FoodItem {
      constructor(name, price, description) {
        this.id = FoodItem._nextId++;
        this.name = name;
        this.price = price;
        this.description = description;
      }
      getInfo() { return {id:this.id,name:this.name,price:this.price,description:this.description,type:this.constructor.name}; }
    }
    FoodItem._nextId = 1;

    // Specific Food Categories
    class Pizza extends FoodItem {
      constructor(name, price) { super(name, price, 'Delicious cheesy pizza with toppings'); }
    }
    class Burger extends FoodItem {
      constructor(name, price) { super(name, price, 'Juicy burger with fresh veggies and sauces'); }
    }
    class Drink extends FoodItem {
      constructor(name, price) { super(name, price, 'Refreshing chilled drink'); }
    }

    // Factory for food creation
    class FoodFactory {
      static create(type, name, price) {
        switch(type){
          case 'pizza': return new Pizza(name, price);
          case 'burger': return new Burger(name, price);
          case 'drink': return new Drink(name, price);
          default: throw new Error('Unknown food type');
        }
      }
    }

    // Repository for menu and cart
    const repository = {
      menu: [],
      cart: [],
      addToMenu(item){this.menu.push(item);},
      addToCart(item){this.cart.push(item);},
      removeFromCart(id){this.cart=this.cart.filter(c=>c.id!==id);}
    };

    const menuEl=document.getElementById('menu');
    const cartEl=document.getElementById('cart');

    function renderMenu(){
      menuEl.innerHTML='';
      repository.menu.forEach(item=>{
        const info=item.getInfo();
        const div=document.createElement('div');
        div.className='food-item';
        div.innerHTML=`<h3>${info.name}</h3><p>${info.description}</p><strong>₹${info.price}</strong>`;
        const btn=document.createElement('button');
        btn.textContent='Add to Cart';
        btn.onclick=()=>{repository.addToCart(item);renderCart();};
        const controls=document.createElement('div');
        controls.className='controls';
        controls.appendChild(btn);
        div.appendChild(controls);
        menuEl.appendChild(div);
      });
    }

    function renderCart(){
      if(repository.cart.length===0){cartEl.innerHTML='<div class="muted">Cart is empty</div>';return;}
      let html='<table><tr><th>Item</th><th>Price (₹)</th><th>Action</th></tr>';
      repository.cart.forEach(c=>{
        html+=`<tr><td>${c.name}</td><td>${c.price}</td><td><button onclick="removeFromCart(${c.id})">Remove</button></td></tr>`;
      });
      const total=repository.cart.reduce((sum,c)=>sum+c.price,0);
      html+=`<tr><td><strong>Total</strong></td><td colspan="2">₹${total}</td></tr>`;
      html+='</table><button style="margin-top:10px" onclick="checkout()">Checkout</button>';
      cartEl.innerHTML=html;
    }

    function removeFromCart(id){repository.removeFromCart(id);renderCart();}

    function checkout(){alert('Order placed successfully!');repository.cart=[];renderCart();}

    // Seed menu
    repository.addToMenu(FoodFactory.create('pizza','Margherita',250));
    repository.addToMenu(FoodFactory.create('pizza','Veggie Delight',300));
    repository.addToMenu(FoodFactory.create('burger','Cheese Burger',150));
    repository.addToMenu(FoodFactory.create('burger','Veggie Burger',120));
    repository.addToMenu(FoodFactory.create('drink','Coke',50));
    repository.addToMenu(FoodFactory.create('drink','Lemonade',60));

    renderMenu();
    renderCart();
  </script>
</body>
</html>
